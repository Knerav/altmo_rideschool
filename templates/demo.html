<!-- Add this code within the table to update participant status -->
<td>
  <select id="status_dropdown_{{ participant[0] }}">
      <option value="ONGOING">ONGOING</option>
      <option value="COMPLETED">COMPLETED</option>
  </select>
</td>
<td>
  <button onclick="updateStatus('{{ participant[0] }}', $('#status_dropdown_{{ participant[0] }}').val())">Update</button>
</td>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Add this script block at the bottom of your HTML, before the closing </body> tag -->
<script>
  // Function to handle status update
  function updateStatus(participantId, newStatus) {
      $.ajax({
          type: "POST",
          url: "/update_participant_status",
          data: {
              participant_id: participantId,
              new_status: newStatus
          },
          success: function(response) {
              if (response === "success") {
                  // Update the participant status in the table cell
                  var statusCell = document.getElementById("status_" + participantId);
                  statusCell.innerText = newStatus;
              } else {
                  alert("Error updating status: " + response);
              }
          },
          error: function() {
              alert("An error occurred while updating status.");
          }
      });
  }
</script>

<!--Certainly! The provided JavaScript code is responsible for handling the client-side logic of updating a participant's status without a full page reload using AJAX (Asynchronous JavaScript and XML) and jQuery. Let's break down the code step by step:

The code is enclosed within an HTML <script> tag, which means it's JavaScript code embedded directly in the HTML file.

The code defines a JavaScript function called updateStatus(participantId, newStatus):

participantId is the unique identifier for the participant whose status you want to update.
newStatus is the new status that you want to assign to the participant.
Inside the updateStatus function, the code uses jQuery's $.ajax() method to make an asynchronous POST request to the server. Here's what each part of the $.ajax() function does:

type: "POST": Specifies that the HTTP request method should be POST.

url: "/update_participant_status": Specifies the URL to which the POST request will be sent. This URL corresponds to the Flask route defined on the server side for updating participant status.

data: {...}: This is an object that contains the data you want to send to the server as part of the POST request. In this case, it sends the participantId and newStatus values.

success: function(response) {...}: This is a callback function that will be executed if the server successfully responds to the request. It receives the server's response as the response parameter.

Inside the success callback, the code checks if the response from the server is equal to the string "success." If it is, it means the update was successful, and it proceeds to update the participant's status in the HTML table on the client side.

It finds the HTML element with an id attribute in the format "status_{participantId}" (e.g., "status_123") to locate the table cell where the participant's status is displayed. Then, it updates the content of that table cell with the new status using statusCell.innerText = newStatus.

If the server's response is not "success," it shows an alert with an error message that includes the server's response.

error: function() {...}: This is a callback function that will be executed if there is an error in the AJAX request (e.g., network issues or server errors). In this case, it shows an alert with an error message.

Overall, this script allows you to initiate a status update on the client side by selecting a new status from a dropdown menu and clicking an "Update" button. When you click the button, it sends a request to the server to update the participant's status, and if the update is successful, it dynamically updates the status in the HTML table without reloading the entire page. If there's an error, it displays an alert message to inform the user.-->
