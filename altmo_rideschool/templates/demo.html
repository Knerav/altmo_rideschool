



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Form</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            
            background-color: #f4f4f4;
        }

        h1 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        form {
        max-width: 500px;
        margin: 0 auto;
        padding: 40px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    }

       

        label {
            font-weight: bold;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        select,
        textarea,
        input[type="file"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 95%;
            margin-bottom: 10px;
        }

        input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .error-message {
            color: #FF0000;
            margin-top: 5px;
            display: none;
        }

        .alert {
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

        .alert-success {
            background-color: #D4EDDA;
            border: 1px solid #C3E6CB;
            color: #155724;
        }

        .alert-danger {
            background-color: #F8D7DA;
            border: 1px solid #F5C6CB;
            color: #721C24;
        }
        form button {
        padding: 10px 20px;
        background-color: #4CAF50;
        color: #fff;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    form button:hover {
        background-color: #45a049;
    }
    
    </style>


</head>
<body>
    {% include 'navbar.html' %}
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="container">
        <h1>Organization Form</h1>

        <form id="organization-form" action="/submit_organization" method="post" enctype="multipart/form-data">
            <label for="organization-name">Organization Name:</label>
            <input type="text" id="organization-name" name="organization-name" required>
            
            <label for="organization-address">Organization Address:</label>
            <input type="text" id="organization-address" name="organization-address" required>
            
            <label for="organization-contact">Organization Contact:</label>
            <input type="text" id="organization-contact" name="organization-contact" required>
            <div class="error-message" id="contact-error-message"></div>
            
            <label for="organization-email">Organization Email:</label>
            <input type="email" id="organization-email" name="organization-email" required>
            <div class="error-message" id="email-error-message"></div>
            
            <label for="organization-type">Organization Type:</label>
            <select id="organization-type" name="organization-type" required>
                <option value="" selected disabled>Select Organization Type</option>
                <option value="Public Limited Company">Public Limited Company</option>
                <option value="Private Limited Company">Private Limited Company</option>
                <option value="Registered Trust">Registered Trust</option>
                <option value="Registered Society">Registered Society</option>
                <option value="Registered Resident Welfare Association (RWA)">Registered Resident Welfare Association (RWA)</option>
                <option value="Section 8 Company">Section 8 Company</option>
                <option value="New Governmental Organization">New Governmental Organization</option>
                <option value="Other">Other</option>
            </select>
            
            <label for="organization-activities">Organization Activities:</label>
            <textarea id="organization-activities" name="organization-activities"></textarea>
            
            <label for="organization-legal-status-document">Legal Status Document:</label>
            <input type="file" id="organization-legal-status-document" name="organization-legal-status-document" accept=".pdf,.doc,.docx">
            
            <label for="coordinator-name">Coordinator Name:</label>
            <input type="text" id="coordinator-name" name="coordinator-name" required>
            
            <label for="coordinator-email">Coordinator Email:</label>
            <input type="email" id="coordinator-email" name="coordinator-email" required>

            <label for="coordinator-contact">Coordinator Contact:</label>
<input type="text" id="coordinator-contact" name="coordinator-contact" required>
            
            <button type="submit">Submit</button>
        </form>

        <div class="alert" id="messageAlert" style="display: none;"></div>

        <script>
            function displayMessage(type, message) {
                var messageAlert = document.getElementById('messageAlert');
                messageAlert.innerHTML = '<div class="alert ' + type + '">' + message + '</div>';
                messageAlert.style.display = 'block';
            }

            function displayError(fieldId, errorMessage) {
                var errorField = document.getElementById(fieldId + '-error-message');
                errorField.innerHTML = errorMessage;
                errorField.style.display = 'block';
            }

            function hideError(fieldId) {
                var errorField = document.getElementById(fieldId + '-error-message');
                errorField.innerHTML = '';
                errorField.style.display = 'none';
            }

            document.addEventListener('DOMContentLoaded', function () {
                var organizationForm = document.getElementById('organization-form');

                organizationForm.addEventListener('submit', async function (event) {
                    event.preventDefault();

                    // Add any form validation if needed
                    var contactValue = document.getElementById('organization-contact').value;
                    var emailValue = document.getElementById('organization-email').value;
                    

                    if (!/^\d{10}$/.test(contactValue)) {
                        displayError('contact', 'Contact should contain 10 digits.');
                        return;
                    } else {
                        hideError('contact');
                    }

                    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailValue)) {
                        displayError('email', 'Invalid email format.');
                        return;
                    } else {
                        hideError('email');
                    }

                    const formData = new FormData(this);

                    try {
                        const response = await fetch('/submit_organization', {
                            method: 'POST',
                            body: formData,
                        });

                        const result = await response.json();

                        if (result.status === 'success') {
                            displayMessage('alert-success', result.message);
                            // Additional logic after successful form submission
                        } else if (result.status === 'error') {
                            displayMessage('alert-danger', result.message);
                        }
                    } catch (error) {
                        displayMessage('alert-danger', 'An error occurred. Please try again.');
                    }
                });
            });
        </script>
    </div>
</body>
</html>



<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }

        h1 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #084d0b;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    {% include 'navbar.html' %}
    <br>
    <br>
    <br>
    <h1>Organization </h1>

    <table border="1">
        <thead>
            <tr>
               
                <th>Organization Name</th>
                <th>Organization Address</th>
                <th>Organization Contact</th>
                <th>Organization Email</th>
                <th>Organization Type</th>
                <th>Organization Activities</th>
                <th>Legal Status Document</th>
                <th>Coordinator Name</th>
                <th>Coordinator Email</th>
                <th>Coordinator Contact</th>
                <th>Created At</th>
              
            </tr>
        </thead>
        <tbody>
            {% if organizations %}
                {% for org in organizations %}
                    <tr>
                       
                        <td>{{ org[1] }}</td>
                        <td>{{ org[2] }}</td>
                        <td>{{ org[3] }}</td>
                        <td>{{ org[4] }}</td>
                        <td>{{ org[5] }}</td>
                        <td>{{ org[6] }}</td>
                        <td>
                            {% if org[7] %}
                                <a href="{{ url_for('organization.display_image', filename=full_path) }}" target="_blank">
                                    {{ org[7].split(os.path.sep)[-1] }}
                                </a>
                            {% else %}
                                No legal status document available
                            {% endif %}
                        </td>
                        
                        <td>{{ org[7] }}</td>
                        <td>{{ org[8] }}</td>
                        <td>{{ org[9] }}</td>
                        <td>{{ org[10] }}</td>
                        <td>{{ org[11] }}</td>
                        
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="12">No organizations found.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>

    
    <p>Data Count: {{ organizations|length }}</p>
    
</body>
</html>
